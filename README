Disclaimer: This project is provided “as is”, without warranty of any kind. Any use of this software is at the user’s own responsibility.
Author: jd

Thanks to PostmarketOS for the kernel, this is a lot of work.

Howto install :

# If you run debian like :
apt install cgpt debootstrap parted e2fsprogs

cd install_linux_on_chromebook
chmod +x first_stage.sh on_chrome.sh 
./first_stage.sh /dev/<device>

Boot on arm64 machine like your chrome os, enable dev mode, reboot and run shell with CTRL-T, enter "shell".
You need to copy on_chrome.sh, chmox +x. find your device and after running ./on_chrome.sh.
Reboot and select 

At this moment you have a running system on SDcard, if you want you can now run the same installation on local emmc disk of your chromebook.
Just give the right device to first_stage.sh and on_chrome.sh script (/dev/mmcblk0 on my 14M868).
Dont forget this will erase your chromeOS, but who need to run chromeos ? ;) (Meeeee the little first_stage.sh brother)


If you want to pack your own kernel :

# Replace UUID
conf="kern_guid=%U console=tty0 console=tty1  loglevel=7 plymouth.enable=0 PMOS_NOSPLASH pmos_boot_uuid=925f33ed-7e80-486b-a684-616e0838f9c5 pmos_root_uuid=ae206ac8-43da-4fb0-a691-e0cd675b3462 pmos_rootfsopts=defaults"

cd install_linux_on_chromebook
# Here devkeys come from chromeos, dtb/vmlinuz/initramfs from postmarketOS.
mkdepthcharge -o my_kernel  --keydir kernel/devkeys/ -c -b kernel/mt8186-corsola-magneton-sku393217.dtb  -d kernel/vmlinuz  -i kernel/initramfs

# For installing kernel
dd if=my_kernel of=/dev/<first_partition_of_my_dev> (ex: /dev/sda1, /dev/mmcblk0p1)

###### Todo in gnome #####
* Configure tactil in gnome configuration : two fingers press, tap to click, scrolling method : side/edge, scroll direction : natural 

###### known issue ######
- No sound in speaker, check ucm2 and remove old alsa map : rm /var/lib/alsa/asound.state # and reboot


